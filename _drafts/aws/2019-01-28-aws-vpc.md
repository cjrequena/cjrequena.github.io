---
layout: post
title: "[AWS] Amazon Virtual Private Cloud VPC"
author: "Carlos Requena"
tags:
   - Amazon Web Services (AWS), Cloud Computing
---

***The Amazon Virtual Private Cloud (Amazon VPC)*** is a custom-defined virtual network within the AWS Cloud.
Amazon VPC enables you to launch AWS resources into a virtual network  that you've defined.
 
A virtual private cloud (VPC) is a virtual network dedicated to your AWS account. It is logically isolated 
from other virtual networks in the AWS Cloud. You can launch your AWS resources, such as Amazon EC2 instances,
into your VPC. You can specify an IP address range for the VPC, add subnets, associate security groups, and
configure route tables.

This virtual network closely resembles a traditional network that you'd operate in your own data center, with the 
benefits of using the scalable infrastructure of AWS.

# Benefits
**Secure** Amazon VPC provides advanced security features, such as security groups and network access control
lists, to enable inbound and outbound filtering at the instance level and subnet level. In addition, you can
store data in Amazon S3 and restrict access so that it’s only accessible from instances in your VPC. 
Optionally, you can also choose to launch Dedicated Instances which run on hardware dedicated to a single 
customer for additional isolation.

**Simple** You can create a VPC quickly and easily using the AWS Management Console. You can select one of 
the common network setups that best match your needs and press "Start VPC Wizard." Subnets, IP ranges, route
tables, and security groups are automatically created for you so you can concentrate on creating the 
applications to run in your VPC.

**All the Scalability and Reliability of AWS** Amazon VPC provides all of the same benefits as the rest of the 
AWS platform. You can instantly scale your resources up or down, select Amazon EC2 instances types and sizes
that are right for your applications, and pay only for the resources you use - all within Amazon’s proven 
infrastructure.

<span style="color:red"></span>

# Amazon VPC Fundamentals

When you create an Amazon VPC, you must specify the IPv4 address range by choosing a
Classless Inter-Domain Routing (CIDR) block, such as 10.0.0.0/16. 

The address range of the Amazon VPC cannot be changed after the Amazon VPC is created.

An Amazon VPC address range may be as large as /16 (65,536 available addresses) or as small as /28 (16 available
addresses) and should not overlap any other network with which they are to be connected.

AWS accounts that support EC2-VPC will have a default VPC created in each region with a default
subnet created in each Availability Zone. The assigned CIDR block of the VPC will be
172.31.0.0/16.

**An Amazon VPC consists of the following components:**

- [Subnets](https://docs.aws.amazon.com/vpc/latest/userguide/what-is-amazon-vpc.html#what-is-vpc-subnet)
- Route tables
- Dynamic Host Configuration Protocol (DHCP) option sets
- Security groups
- Network Access Control Lists (ACLs)

**An Amazon VPC has the following optional components:**

- Internet Gateways (IGWs)
- Elastic IP (EIP) addresses
- Elastic Network Interfaces (ENIs)
- Endpoints
- Peering
- Network Address Translation (NATs) instances and NAT gateways
- Virtual Private Gateway (VPG)
- Customer Gateways (CGWs)
- Virtual Private Networks (VPNs)

# Subnets

A subnet is a segment of an Amazon VPC’s IP address range where you can launch Amazon
EC2 instances, Amazon Relational Database Service (Amazon RDS) databases, and other
AWS resources. **CIDR blocks define subnets (for example, 10.0.1.0/24 and 192.168.0.0/24).**

The smallest subnet that you can create is a /28 (16 IP addresses).

AWS reserves the first four IP addresses and the last IP address of every subnet for internal networking purposes. For
example, a subnet defined as a /28 has 16 available IP addresses; subtract the 5 IPs needed by
AWS to yield 11 IP addresses for your use within the subnet.

After creating an Amazon VPC, you can add one or more subnets in each Availability Zone.
Subnets reside within one Availability Zone and cannot span zones.

One subnet can have one Availability Zone. One  Availability Zone can have multiple subnets.

Subnets can be classified as public, private, or VPN-only

**A public subnet** is one in which the associated route table directs the subnet’s traffic to the Amazon VPC’s IGW. 
**Has attached an Internet Gateway (IGW)**

**A private subnet** is one in which the associated route table does not direct the subnet’s traffic to the Amazon VPC’s IGW.
**Doesn't have attached an Internet Gateway (IGW)**

**A VPN-only subnet** is one in which the associated route table directs the subnet’s traffic to the Amazon VPC’s VPG and does 
not have a route to the IGW.

Regardless of the type of subnet, the internal IP address range of the subnet is always private (that is, non-routable on the 
Internet).

Default Amazon VPCs contain one public subnet in every Availability Zone within the region, with a netmask of /20.
